execute as @s if block ~ ~-1 ~ air run function cave_in:supports/destroy_support

execute as @s[tag=2_blocks_tall] unless block ~ ~ ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=2_blocks_tall] unless block ~ ~1 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=2_blocks_tall,tag=!build_support] if block ~ ~2 ~ air run function cave_in:supports/destroy_support

execute as @s[tag=3_blocks_tall] unless block ~ ~ ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=3_blocks_tall] unless block ~ ~1 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=3_blocks_tall] unless block ~ ~2 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=3_blocks_tall,tag=!build_support] if block ~ ~3 ~ air run function cave_in:supports/destroy_support

execute as @s[tag=4_blocks_tall] unless block ~ ~ ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=4_blocks_tall] unless block ~ ~1 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=4_blocks_tall] unless block ~ ~2 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=4_blocks_tall] unless block ~ ~3 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=4_blocks_tall,tag=!build_support] if block ~ ~4 ~ air run function cave_in:supports/destroy_support

execute as @s[tag=5_blocks_tall] unless block ~ ~ ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=5_blocks_tall] unless block ~ ~1 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=5_blocks_tall] unless block ~ ~2 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=5_blocks_tall] unless block ~ ~3 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=5_blocks_tall] unless block ~ ~4 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=5_blocks_tall,tag=!build_support] if block ~ ~5 ~ air run function cave_in:supports/destroy_support

execute as @s[tag=6_blocks_tall] unless block ~ ~ ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=6_blocks_tall] unless block ~ ~1 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=6_blocks_tall] unless block ~ ~2 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=6_blocks_tall] unless block ~ ~3 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=6_blocks_tall] unless block ~ ~4 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=6_blocks_tall] unless block ~ ~5 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=6_blocks_tall,tag=!build_support] if block ~ ~6 ~ air run function cave_in:supports/destroy_support

execute as @s[tag=7_blocks_tall] unless block ~ ~ ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=7_blocks_tall] unless block ~ ~1 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=7_blocks_tall] unless block ~ ~2 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=7_blocks_tall] unless block ~ ~3 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=7_blocks_tall] unless block ~ ~4 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=7_blocks_tall] unless block ~ ~5 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=7_blocks_tall] unless block ~ ~6 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=7_blocks_tall,tag=!build_support] if block ~ ~7 ~ air run function cave_in:supports/destroy_support

execute as @s[tag=8_blocks_tall] unless block ~ ~ ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=8_blocks_tall] unless block ~ ~1 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=8_blocks_tall] unless block ~ ~2 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=8_blocks_tall] unless block ~ ~3 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=8_blocks_tall] unless block ~ ~4 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=8_blocks_tall] unless block ~ ~5 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=8_blocks_tall] unless block ~ ~6 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=8_blocks_tall] unless block ~ ~7 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=8_blocks_tall,tag=!build_support] if block ~ ~8 ~ air run function cave_in:supports/destroy_support

execute as @s[tag=9_blocks_tall] unless block ~ ~ ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=9_blocks_tall] unless block ~ ~1 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=9_blocks_tall] unless block ~ ~2 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=9_blocks_tall] unless block ~ ~3 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=9_blocks_tall] unless block ~ ~4 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=9_blocks_tall] unless block ~ ~5 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=9_blocks_tall] unless block ~ ~6 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=9_blocks_tall] unless block ~ ~7 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=9_blocks_tall] unless block ~ ~8 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=9_blocks_tall,tag=!build_support] if block ~ ~9 ~ air run function cave_in:supports/destroy_support

execute as @s[tag=10_blocks_tall] unless block ~ ~ ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=10_blocks_tall] unless block ~ ~1 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=10_blocks_tall] unless block ~ ~2 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=10_blocks_tall] unless block ~ ~3 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=10_blocks_tall] unless block ~ ~4 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=10_blocks_tall] unless block ~ ~5 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=10_blocks_tall] unless block ~ ~6 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=10_blocks_tall] unless block ~ ~7 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=10_blocks_tall] unless block ~ ~8 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=10_blocks_tall] unless block ~ ~9 ~ #support_blocks run function cave_in:supports/destroy_support
execute as @s[tag=10_blocks_tall,tag=!build_support] if block ~ ~10 ~ air run function cave_in:supports/destroy_support

#execute as @s[scores={cave_in.tick=20..}] run say hi